app:
  description: '质检规则字段解析与标准化'
  icon: 📊
  icon_background: '#E0F2FE'
  mode: completion
  name: QA Field Analyzer
  use_icon_as_answer_icon: false

kind: app
model_config:
  model:
    provider: deepseek
    name: deepseek-chat
    completion_params:
      temperature: 0.2
      max_tokens: 2000
      top_p: 0.9
  
  opening_statement: |
    您好，我是质检规则字段分析助手。我可以帮您解析和标准化质检规则数据字段。
    请选择分析类型并输入案例数据。
  
  pre_prompt: |
    你是一个数据结构分析专家。你的任务是分析质检规则数据的字段结构，并提供标准化建议。

    分析类型：{{analysis_type}}
    案例数据：{{case_data}}

    请按照以下框架进行分析：

    1. 字段识别
    - 识别现有字段类型（质检单号、规则编号、违规内容等）
    - 标注字段值的数据类型（文本、枚举、数值等）
    - 识别字段间的关联关系

    2. 值域分析
    - 枚举值统计（如"正常"、"不推"等标记）
    - 特殊值处理（如"nan"、空值等）
    - 值的规范性检查

    3. 标准化建议
    - 字段命名规范
    - 数据类型定义
    - 枚举值标准化
    - 必填性要求

    4. 数据质量改进
    - 字段完整性检查
    - 数据一致性建议
    - 验证规则建议

    输出重点：
    1. 明确的字段定义
    2. 具体的数据规范
    3. 可执行的改进建议

  user_input_form:
  - select:
      default: '字段结构'
      label: '分析类型'
      options:
      - '字段结构'
      - '值域分布'
      - '数据规范'
      - '质量检查'
      required: true
      variable: analysis_type
  - paragraph:
      default: ''
      label: '案例数据'
      required: true
      variable: case_data

  retriever_resource:
    enabled: true
    top_k: 30
    rerank: true

version: 0.1.5